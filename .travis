language: cpp

sudo: required
dist: trusty

compiler:
  - gcc

cache:
  apt: true

addons:
  apt:
    sources:
      - ubuntu-toolchain-r-test
    packages:
        - gcc-5
        - g++-5

before_install:
  - sudo apt-get update
  - sudo apt-get install -y build-essential cmake pkg-config libboost-all-dev
  - sudo apt-get install -y libssl-dev libzmq3-dev libunbound-dev libsodium-dev
  - sudo apt-get install -y libminiupnpc-dev libunwind8-dev liblzma-dev libreadline6-dev
  - sudo apt-get install -y libldns-dev libexpat1-dev doxygen graphviz

script:
  - cd $HOME
  - mkdir linux-x64-build
  - cd linux-x64-build
  - cmake -D$HOME/ryo-linux-x64-release -DARCH="x86-64" -DBUILD_64=ON -DCMAKE_BUILD_TYPE=Debug -DBUILD_TAG="linux-x64-release" $TRAVIS_BUILD_DIR
  - make

install:
  - sudo make install
